{
  "$schema": "https://codesandbox.io/schemas/tasks.json",
  "setupTasks": [
    {
      "name": "Enable Corepack",
      "command": "corepack enable"
    },
    {
      "name": "Install Dependencies",
      "command": "pnpm install"
    },
    {
      "name": "Build Packages",
      "command": "pnpm exec turbo build --filter='./packages/*'"
    },
    {
      "name": "Pull Docker Images",
      "command": "docker compose pull"
    }
  ],
  "tasks": {
    "dev": {
      "name": "Dev (All Apps)",
      "command": "pnpm dev:app",
      "runAtStart": true,
      "preview": {
        "port": 3000
      }
    },
    "db": {
      "name": "Start Database",
      "command": "docker compose up",
      "runAtStart": true
    },
    "dev:web": {
      "name": "Dev (Web Only)",
      "command": "pnpm --filter web dev",
      "preview": {
        "port": 3000
      }
    },
    "dev:doc": {
      "name": "Dev (Doc Only)",
      "command": "pnpm --filter doc dev",
      "preview": {
        "port": 3001
      }
    },
    "build": {
      "name": "Build",
      "command": "pnpm build"
    },
    "lint": {
      "name": "Lint",
      "command": "pnpm lint"
    },
    "format": {
      "name": "Format",
      "command": "pnpm format"
    }
  }
}
